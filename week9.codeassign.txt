CREATE DATABASE IF NOT EXISTS user;

USE user;

DROP TABLE IF EXISTS comments;
DROP TABLE IF EXISTS posts;
DROP TABLE IF EXISTS user;

CREATE TABLE user (

	id INT(10) NOT NULL AUTO_INCREMENT,
	username VARCHAR(25) NOT NULL,
	password VARCHAR(15) NOT NULL,
	state CHAR(2) NOT NULL,
	email VARCHAR(30) NOT NULL,
	
	PRIMARY KEY (id)
);

CREATE TABLE posts (
	
	id INT(8) NOT NULL AUTO_INCREMENT,
	user_id INT(10) NOT NULL,
	post VARCHAR(500),
	post_time DATETIME DEFAULT CURRENT_TIMESTAMP,
	likes INT(7),

	PRIMARY KEY (id),
	FOREIGN KEY (user_id) REFERENCES user(id)

);

CREATE TABLE comments (
	
	id INT(8) NOT NULL AUTO_INCREMENT,
	user_id INT(10) NOT NULL,
	post_id INT(8) NOT NULL,
	comment VARCHAR(250),
	post_time DATETIME DEFAULT CURRENT_TIMESTAMP,
	likes INT(7),

	PRIMARY KEY (id),
	FOREIGN KEY (user_id) REFERENCES user(id),
	FOREIGN KEY (post_id) REFERENCES post(id),

);
